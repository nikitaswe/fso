{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/PersonDetails.js","components/Persons.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","filter","onChange","value","PersonForm","name","number","onSubmit","onChangeName","onChangeNumber","type","PersonDetails","id","deletePerson","onClick","Persons","persons","map","toLowerCase","includes","baseUrl","personsService","getAll","axios","get","then","response","data","createPerson","newObject","post","delete","editPerson","put","Notification","message","styleName","className","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","setFilter","successMessage","setSuccessMessage","errorMessage","setErrorMessage","useEffect","initialPersons","e","target","preventDefault","person","find","p","window","confirm","newObj","returnedPerson","setTimeout","catch","error","concat","console","log","personName","newPersons","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.a4b0d9a9.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({ filter, onChange }) => {\r\n  return (\r\n    <div>\r\n      filter shown with: <input value={filter} onChange={onChange} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Filter\r\n","import React from 'react'\r\n\r\nconst PersonForm = ({ name, number, onSubmit, onChangeName, onChangeNumber }) => {\r\n  return (\r\n    <form onSubmit={onSubmit}>\r\n      <div>\r\n        name: <input value={name} onChange={onChangeName} />\r\n      </div>\r\n      <div>\r\n        number: <input value={number} onChange={onChangeNumber} />\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\">add</button>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default PersonForm\r\n","import React from 'react'\r\n\r\nconst PersonDetails = ({ id, name, number, deletePerson }) => {\r\n  return (\r\n    <li>\r\n      {name} {number} <button onClick={() => deletePerson(id)}>delete</button>\r\n    </li>\r\n  )\r\n}\r\n\r\nexport default PersonDetails\r\n","import React from 'react'\r\nimport PersonDetails from './PersonDetails'\r\n\r\nconst Persons = ({ persons, filter, deletePerson }) => {\r\n  return (\r\n    <div>\r\n      <ul>\r\n        {persons.map(\r\n          ({ name, id, number }) =>\r\n            name.toLowerCase().includes(filter) && (\r\n              <PersonDetails\r\n                key={id}\r\n                id={id}\r\n                name={name}\r\n                number={number}\r\n                deletePerson={deletePerson}\r\n              />\r\n            )\r\n        )}\r\n      </ul>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Persons\r\n","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst createPerson = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst deletePerson = id => {\r\n  const request = axios.delete(baseUrl + `/${id}`)\r\n  return request\r\n}\r\n\r\nconst editPerson = newObject => {\r\n  const request = axios.put(baseUrl + `/${newObject.id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst personsService = { getAll, createPerson, deletePerson, editPerson }\r\nexport default personsService\r\n","import React from 'react'\r\n\r\nconst Notification = ({ message, styleName }) => {\r\n  if (message === null) {\r\n    return null\r\n  }\r\n\r\n  return <div className={styleName}>{message}</div>\r\n}\r\n\r\nexport default Notification\r\n","import React, { useEffect, useState } from 'react'\r\nimport Filter from './components/Filter'\r\nimport PersonForm from './components/PersonForm'\r\nimport Persons from './components/Persons'\r\nimport personsService from './services/persons'\r\nimport Notification from './components/Notification'\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([])\r\n  const [newName, setNewName] = useState('')\r\n  const [newNumber, setNewNumber] = useState('')\r\n  const [filter, setFilter] = useState('')\r\n  const [successMessage, setSuccessMessage] = useState(null)\r\n  const [errorMessage, setErrorMessage] = useState(null)\r\n\r\n  useEffect(() => {\r\n    personsService.getAll().then(initialPersons => {\r\n      setPersons(initialPersons)\r\n    })\r\n  }, [])\r\n\r\n  const handleNameChange = e => setNewName(e.target.value)\r\n  const handleNumberChange = e => setNewNumber(e.target.value)\r\n  const handleFilterChange = e => setFilter(e.target.value)\r\n  const addPerson = e => {\r\n    e.preventDefault()\r\n    const person = persons.find(p => p.name === newName)\r\n    if (person) {\r\n      const result = window.confirm(\r\n        `${newName} is already added to phonebook, replace the old number with a new one?`\r\n      )\r\n      if (result) {\r\n        const newObj = { ...person, number: newNumber }\r\n        personsService\r\n          .editPerson(newObj)\r\n          .then(returnedPerson => {\r\n            setSuccessMessage(\r\n              `Number for '${returnedPerson.name}' has changed to '${returnedPerson.number}' `\r\n            )\r\n            setTimeout(() => {\r\n              setSuccessMessage(null)\r\n            }, 5000)\r\n            setPersons(persons.map(p => (p.name === returnedPerson.name ? returnedPerson : p)))\r\n            setNewName('')\r\n            setNewNumber('')\r\n          })\r\n          .catch(error => {\r\n            setErrorMessage(`Contact '${person.name}' was already deleted from server`)\r\n            setTimeout(() => {\r\n              setErrorMessage(null)\r\n            }, 5000)\r\n            setPersons(persons.filter(p => p.id !== person.id))\r\n          })\r\n      }\r\n    } else {\r\n      const newObj = { name: newName, number: newNumber }\r\n      personsService\r\n        .createPerson(newObj)\r\n        .then(returnedPerson => {\r\n          setSuccessMessage(`Added '${returnedPerson.name}'`)\r\n          setTimeout(() => {\r\n            setSuccessMessage(null)\r\n          }, 5000)\r\n          setPersons(persons.concat(returnedPerson))\r\n          setNewName('')\r\n          setNewNumber('')\r\n        })\r\n        .catch(error => {\r\n          console.log(error.response.data.error)\r\n          setErrorMessage(error.response.data.error)\r\n          setTimeout(() => {\r\n            setErrorMessage(null)\r\n          }, 8000)\r\n          setPersons([...persons])\r\n        })\r\n    }\r\n  }\r\n  const deletePerson = id => {\r\n    const personName = persons.find(p => p.id === id).name\r\n    const result = window.confirm(`Delete ${personName}?`)\r\n    if (result)\r\n      personsService\r\n        .deletePerson(id)\r\n        .then(response => {\r\n          const newPersons = persons.filter(p => p.id !== id)\r\n          setPersons(newPersons)\r\n        })\r\n        .catch(error => {\r\n          setErrorMessage(`Contact '${personName}' was already deleted from server`)\r\n          setTimeout(() => {\r\n            setErrorMessage(null)\r\n          }, 5000)\r\n          setPersons(persons.filter(p => p.name !== personName))\r\n        })\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification message={successMessage} styleName=\"success\" />\r\n      <Notification message={errorMessage} styleName=\"error\" />\r\n      <Filter filter={filter} onChange={handleFilterChange} />\r\n      <h3>Add new</h3>\r\n      <PersonForm\r\n        name={newName}\r\n        number={newNumber}\r\n        onSubmit={addPerson}\r\n        onChangeName={handleNameChange}\r\n        onChangeNumber={handleNumberChange}\r\n      />\r\n      <h3>Numbers</h3>\r\n      <Persons persons={persons} filter={filter} deletePerson={deletePerson} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App\r\n","import ReactDOM from 'react-dom'\r\nimport App from './App'\r\nimport './index.css'\r\n\r\nReactDOM.render(<App />, document.getElementById('root'))\r\n"],"sourceRoot":""}